{% load static %}
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>DAAWAT</title>
    <!-- core:css -->
    <link rel="stylesheet" href="{% static 'assets/vendors/core/core.css' %}" />

    <link
      rel="stylesheet"
      href="{% static 'assets/fonts/feather-font/css/iconfont.css' %}"
    />
    <link
      rel="stylesheet"
      href="{% static 'assets/vendors/flag-icon-css/css/flag-icon.min.css' %}"
    />

    <link rel="stylesheet" href="{% static 'assets/css/style/style.css' %}" />
    <!-- End layout styles -->
    <link rel="shortcut icon" href="{% static 'assets/images/favicon.png' %}" />
    <style>
      [v-cloak] {
        display: none;
      }
    </style>
  </head>

  <body>
    <div class="main-wrapper">
      <!-- partial:../../partials/_sidebar.html -->
      <nav class="sidebar">
        <div class="sidebar-header">
          <a href="#" class="sidebar-brand"> DAAWAT </a>
          <div class="sidebar-toggler not-active">
            <span></span>
            <span></span>
            <span></span>
          </div>
        </div>
       <div class="sidebar-body">
        <ul class="nav">
          <li class="nav-item">
            <a href="{% url 'order' %} " class="nav-link">
              <i class="link-icon" data-feather="file-text"></i>
              <span class="link-title">Kot</span>
            </a>
          </li>
       <li class="nav-item">
            <a href="{% url 'sale_history' %} " class="nav-link">
              <i class="link-icon" data-feather="book-open"></i>
              <span class="link-title">Sale History</span>
            </a>
          </li>
          <li class="nav-item">
            <a href="{% url 'purchase' %}" class="nav-link">
              <i class="link-icon" data-feather="file-plus"></i>
              <span class="link-title">Purchase</span>
            </a>
          </li>
          <li class="nav-item">
            <a href="{% url 'purchase_history' %}" class="nav-link">
              <i class="link-icon" data-feather="book"></i>
              <span class="link-title">Purchase History</span>
            </a>
          </li>
          <li class="nav-item">
            <a href="/admin" class="nav-link">
              <i class="link-icon" data-feather="user"></i>
              <span class="link-title">Admin</span>
            </a>
          </li>
        </ul>
      </div>
    </nav>

      <div class="page-wrapper">
        <!-- partial:../../partials/_navbar.html -->
        <nav class="navbar">
          <a href="#" class="sidebar-toggler">
            <i data-feather="menu"></i>
          </a>
          <div class="navbar-content"></div>
        </nav>
        <!-- partial -->

        <div class="page-content" id="purchase">
          <div class="row">
            <div class="col-md-12 stretch-card">
              <div class="card">
                <div class="card-body">
                  <h6 class="card-title">Purchase</h6>
                  <div class="row">
                    <div class="col-sm-12">
                      <div class="form-group">
                        <a
                          class="btn btn-outline-light"
                          href="#"
                          aria-pressed="true"
                          data-toggle="modal"
                          data-target="#exampleModalCenter"
                          style="float: right; font-size: 16px"
                        >
                          ADD VENDOR
                        </a>
                        <div
                          class="modal fade"
                          id="exampleModalCenter"
                          tabindex="-1"
                          role="dialog"
                          aria-labelledby="exampleModalCenterTitle"
                          aria-hidden="true"
                        >
                          <div
                            class="modal-dialog modal-dialog-centered"
                            role="document"
                          >
                            <div class="modal-content">
                              <div class="modal-header">
                                <h5
                                  class="modal-title"
                                  id="exampleModalCenterTitle"
                                >
                                  ADD VENDOR
                                </h5>
                              </div>
                              <div class="modal-body">
                                <div class="row">
                                  <div class="col-sm-12">
                                    <div class="form-group">
                                      <label class="control-label">NAME</label
                                      ><br />
                                      <input
                                        type="text"
                                        name="name"
                                        class="form-control"
                                        required=""
                                        style="
                                          font-size: 18px;
                                          color: #fff;
                                          font-weight: bold;
                                        "
                                      />
                                    </div>
                                  </div>
                                </div>

                                <div class="row">
                                  <div class="col-sm-12">
                                    <div class="form-group">
                                      <label class="control-label"
                                        >ADDRESS</label
                                      ><br />
                                      <input
                                        type="text"
                                        name="address"
                                        class="form-control"
                                        required=""
                                        style="
                                          font-size: 18px;
                                          color: #fff;
                                          font-weight: bold;
                                        "
                                      />
                                    </div>
                                  </div>
                                </div>
                                <div class="row">
                                  <div class="col-sm-12">
                                    <div class="form-group">
                                      <label class="control-label">NUMBER</label
                                      ><br />
                                      <input
                                        type="text"
                                        name="contact"
                                        class="form-control"
                                        required=""
                                        style="
                                          font-size: 18px;
                                          color: #fff;
                                          font-weight: bold;
                                        "
                                      />
                                    </div>
                                  </div>
                                </div>
                              </div>
                              <div class="modal-footer">
                                <button
                                  type="button"
                                  class="btn btn-danger"
                                  data-dismiss="modal"
                                >
                                  Close
                                </button>
                                <button type="button" class="btn btn-success">
                                  SAVE
                                </button>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                  <form method="POST">
                    {% csrf_token %}
                    <div class="row">
                      <div class="col-sm-4">
                        <div class="form-group">
                          <label class="control-label">DATE</label><br />
                          <input type="date" name="date" autocomplete="off"
                          value="{% now "Y-m-d" %}" class="form-control"
                          required="" style=" font-size: 18px; color: #fff;
                          font-weight: bold; " />
                        </div>
                      </div>

                      <div class="col-sm-2">
                        <div class="form-group">
                          <label class="control-label">SUPPLIER CODE</label
                          ><br />
                          <input
                            type="text"
                            list="suppliers"
                            name="supplier"
                            autocomplete="off"
                            class="form-control"
                            v-model="supplier_id"
                            required=""
                            @change="get_supplier"
                            style="
                              font-size: 18px;
                              color: #fff;
                              font-weight: bold;
                            "
                          />
                          <datalist id="suppliers">
                            {% for s in suppliers %}
                            <option value="{{s.id}}">{{s.name}}</option>
                            {% endfor %}
                          </datalist>
                        </div>
                      </div>
                      <div class="col-sm-4">
                        <div class="form-group">
                          <label class="control-label">SUPPLIER NAME</label
                          ><br />
                          <input
                            type="text"
                            name="item_name"
                            v-model="supplier_name"
                            readonly
                            class="form-control"
                            style="
                              font-size: 18px;
                              color: #fff;
                              font-weight: bold;
                            "
                          />
                        </div>
                      </div>

                      <!-- <div class="col-sm-4">
                                            <div class="form-group">
                                                <label class="control-label">CATEGORY</label><br>
                                                <select name="payment_mode" class="btn btn-primary dropdown-toggle"
                                                    data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"
                                                    required>
                                                    <option value="COLD DRINK" selected>COLD DRINK</option>
                                                    <option value="RICE">RICE</option>

                                                </select>
                                            </div>
                                        </div> -->
                    </div>
                    <div class="row" v-for="(item, i) in purchase_form">
                      <div class="col-sm-4">
                        <div class="form-group">
                          <label class="control-label">ITEM</label><br />
                          <input
                            type="text"
                            name="item"
                            v-model="item.name"
                            class="form-control"
                            style="
                              font-size: 18px;
                              color: #fff;
                              font-weight: bold;
                            "
                          />
                        </div>
                      </div>
                      <div class="col-sm-2">
                        <div class="form-group">
                          <label class="control-label">QUANTITY</label><br />
                          <input
                            type="text"
                            name="quantity"
                            class="form-control"
                            v-model="item.quantity"
                            style="
                              font-size: 18px;
                              color: #fff;
                              font-weight: bold;
                            "
                          />
                        </div>
                      </div>
                      <div class="col-sm-2">
                        <div class="form-group">
                          <label class="control-label">Rate</label><br />
                          <input
                            type="text"
                            name="rate"
                            v-mdoel="item.rate"
                            class="form-control"
                            style="
                              font-size: 18px;
                              color: #fff;
                              font-weight: bold;
                            "
                          />
                        </div>
                      </div>
                      <div class="col-sm-2">
                        <div class="form-group">
                          <label class="control-label">AMOUNT</label><br />
                          <input
                            type="text"
                            name="amount"
                            v-model="item.amount"
                            class="form-control"
                            style="
                              font-size: 18px;
                              color: #fff;
                              font-weight: bold;
                            "
                          />
                        </div>
                      </div>

                      <div class="col-sm-1">
                        <div class="form-group">
                          <label class="control-label">DELETE</label><br />
                          <button
                            type="button"
                            @click="removeSaleRow(i)"
                            class="btn btn-danger"
                          >
                            <i class="btn-icon-prepend" data-feather="x"></i>
                          </button>
                        </div>
                      </div>
                    </div>
                    <div class="row">
                      <div class="col-sm-2">
                        <div class="form-group">
                          <label class="control-label">ADD</label><br />
                          <button
                            type="button"
                            @click="addSaleRow"
                            class="btn btn-success"
                          >
                            <i class="btn-icon-prepend" data-feather="plus"></i>
                          </button>
                        </div>
                      </div>
                    </div>
                    <button
                      type="submit"
                      class="btn btn-success submit"
                      style="float: right"
                    >
                      Save
                    </button>
                  </form>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- partial:../../partials/_footer.html -->
        <footer
          class="footer d-flex flex-column flex-md-row align-items-center justify-content-between"
        >
          <p class="text-muted text-center text-md-left">
            &copy; <a href="">DAAWAT</a>
          </p>
          <p class="text-muted text-center text-md-left mb-0 d-none d-md-block">
            Designed & Developed By : <a href="http://strix.co.in/"> Strix</a>
          </p>
        </footer>
        <!-- partial -->
      </div>
    </div>

    <!-- core:js -->
    <script src="{% static 'assets/vendors/core/core.js' %}"></script>
    <script src="https://cdn.jsdelivr.net/npm/vue@2.6.11"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.19.2/axios.js"></script>
    <script src="https://unpkg.com/currency.js@~1.2.0/dist/currency.min.js"></script>
    <script src="{% static 'assets/js/purchase.js' %}"></script>
    <script src="{% static 'assets/vendors/feather-icons/feather.min.js' %}"></script>
    <script src="{% static 'assets/js/template.js' %}"></script>
  </body>
</html>
